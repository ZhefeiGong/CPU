## 指令数据通路

---

### 0. Fetch

* 描述：每条指令的取指令操作

---

### 1. Addi

* 格式：ADDI rt, rs, immediate
* 描述：将16位立即数经过有符号拓展后与rs寄存器中的数相加，并将结果存入rt寄存器中

### 2. Addiu

* 格式：ADDIU rt, rs, immediate
* 描述：将16位立即数经过无符号拓展后与rs寄存器中的数相加，并将结果存入rt寄存器中

### 3. Andi

* 格式： ANDI rt, rs, immediat 
* 描述： 将16位立即数经过无符号拓展后与rs寄存器中的数进行按位与，并将结果存入rt寄存器中 

### 4. Ori

* 格式：ORI rt, rs, immediat 
* 描述：将16位立即数经过无符号拓展后与rs寄存器中的数进行按位或，并将结果存入rt寄存器中 

### 5. Xori

* 格式：XORI rt, rs, immediate  
* 描述：将16位立即数经过无符号拓展后与rs寄存器中的数进行按位异或，并将结果存入rt寄存器中 

### 6. Lui

* 格式： LUI rt, immediate 
* 描述： 把一个立即数放入 rt 寄存器的高位，低位补 0 

---

### 7. Add

* 格式： ADD rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出相加放入寄存器 rd 中 

### 8. Addu

* 格式： ADDU rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出相加放入寄存器 rd 中 

### 9. Sub

* 格式： SUB rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出进行有符号相减放入寄存器 rd 中 

### 10. Subu

* 格式： SUBU rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出进行无符号相减放入寄存器 rd 中 

### 11. And

* 格式： AND rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出进行按位与，放入寄存器 rd 中 

### 12. Or

* 格式： OR rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出进行按位或，放入寄存器 rd 中 

### 13. Xor

* 格式： XOR rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出进行按位异或，放入寄存器 rd 中 

### 14. Nor

* 格式： NOR rd, rs, rt  
* 描述： 将寄存器 rs 与 rt 中的值取出进行按位或非，放入寄存器 rd 中 

---

### 15. Slt

* 格式： SLT rd, rs, rt 
* 描述： 将寄存器 rs 与 rt 中的值取出进行有符号比较，如果前者小于后者，结果为 1，否则结果为 0，并且将比较结果放入寄存器 rd 中

### 16. Sltu

* 格式： SLTU rd, rs, rt 
* 描述：将寄存器 rs 与 rt 中的值取出进行无符号比较，如果前者小于后者，结果为 1，否则结果为 0，并且将比较结果放入寄存器 rd 中

### 17. Slti

* 格式：SLTI rt, rs, immediate 
* 描述：将 rs 寄存器中的数与 16 位立即数经过有符号拓展后比较大小，并将结果存入 rd 寄存器中，如果前者小，结果为 1，否则结果为 0 

### 18. Sltiu

* 格式： SLTIU rt, rs, immediate 
* 描述： 将 rs 寄存器中的数与 16 位立即数经过无符号拓展后比较大小，并将结果存入 rd 寄存器中，如果前者小，结果为 1，否则结果为 0  

### 19. Sll

* 格式：SLL rd, rt, sa 
* 描述：将寄存器 rt 的内容左移 sa 位，空余出来的位置用 0 来填充，把结果存入 rd 寄存器

### 20. Srl

* 格式： SRL rd, rt, sa 
* 描述： 将寄存器 rt 的内容右移 sa 位，高位用 0 来填充，把结果存入 rd 寄存器

### 21. Sra

* 格式：SRA rd, rt, sa 
* 描述：将寄存器 rt 的内容右移 sa 位，高位用 rt[31] 来填充，把结果存入 rd 寄存器

### 22. Sllv

* 格式：SLLV rd, rt, rs
* 描述：将寄存器 rt 的内容右移 rs 寄存器中的数位，空余的数用 0 来填充，把结果存入 rd 寄存器

### 23. Srlv

* 格式：SRLV rd, rt, rs 
* 描述：将寄存器 rt 的内容右移 rs 寄存器中的数位，高位用 0 来填充，把结果存入 rd 寄 存器 

### 24. Srav

* 格式：SRAV rd, rt, rs 
* 描述：将寄存器 rt 的内容右移 rs 寄存器中的数位，高位用 rt[31] 来填充（即进行符号拓展），把结果存入 rd 寄存器

---

### 25. Lw

* 格式：LW rt, offset(base) 
* 描述：从内存中以 rs 寄存器为基地址加上偏移地址得到的地址中的内容写入到 rt 寄存器中  

### 26. Sw

* 格式：SW rt, offset(base) 
* 描述：将 rt 寄存器中的值写入从以 rs 寄存器为基地址加上偏移地址得到的地址的内存当中 

---

### 27. Beq

* 格式：BEQ rs, rt, offset 
* 描述：将 rt 寄存器与 rs 寄存器中的值进行比较，如果相等，则将 offset 左移两位并且进行符号扩展与当前 pc 相加，转移到该地址 

### 28. Bne

* 格式：BNE rs, rt, offset  
* 描述：将 rt 寄存器与 rs 寄存器中的值进行比较，如果不等，则将 offset 左移两位并且进行符号扩展与当前 pc 相加，转移到该地址  

---

### 29. J

* 格式：J target 
* 描述：无条件跳转到一个绝对地址 

### 30. Jr

* 格式：JR rs 
* 描述：无条件跳转到 rs 寄存器中的地址 

### 31. Jal

* 格式：JAL target 
* 描述：无条件跳转到一个绝对地址, 并且将下一条指令的地址存放在 31 号寄存器当中 

***

### 32. Clz

* 格式：CLZ rd, rs 
* 描述：计算 rs 寄存器中前导零的个数，并将结果存入 rd 寄存器中 

### 33. Bgez

* 格式：BGEZ rs, offset 
* 描述：如果 rs 寄存器中的值大于等于 0，pc 则会跳转到与偏移地址相加后的指令 

### 34. Jalr

* 格式：JALR rd, rs 
* 描述：跳转到 rs 寄存器中保存的地址，同时把当前地址保存在 rd 寄存器中 

### 35. Mfc0

* 格式： MFC0 rt, rd 
* 描述： 将协处理器中 rd 中的内容放入通用寄存器 rt 中 （读cp0寄存器）

### 36. Mtc0

* 格式： MTCO rt, rd 
* 描述：  将通用寄存器 rt 中的内容放入协处理器中 rd 中 （写cp0寄存器）

---

### 37. Mfhi

* 格式： MFHI rd 
* 描述： 将 HI 寄存器中的内容复制到 rd 寄存器中 

### 38.  Mflo

* 格式：MFLO rd 
* 描述：复制 LO 寄存器中的值到 rd 寄存器中 

### 39. Mthi

* 格式： MTHI rs  
* 描述： 将通用寄存器 rs 中的内容复制到 HI 寄存器中 

### 40. Mtlo

* 格式：MTLO rs 
* 描述：将通用寄存器 rs 中的内容复制到 LO 寄存器中 

---

### 41. Lbu

* 格式：LBU rt, offset(base) 
* 描述：在内存中通过基地址和偏移量相加所得的有效地址中取一个 8bit 的字节通过 0 扩展后存入 rt 寄存器中  

### 42. Lhu

* 格式：LHU rt, offset(base)
* 描述：在内存中通过基地址和偏移量相加所得的有效地址中取一个半字通过 0 扩展后存入 rt 寄存器中 

### 43. Lb

* 格式：LB rt, offset(base) 
* 描述：在内存中通过基地址和偏移量相加所得的有效地址中取一个 8bit 的字节通过符号扩展后存入 rt 寄存器中 

### 44. Lh

* 格式：LH rt, offset(base) 
* 描述：在内存中通过基地址和偏移量相加所得的有效地址中取一个半字通过符号扩展后存入 rt 寄存器中 

### 45. Sb

* 格式： SB rt, offset(base) 
* 描述： 将 rt 寄存器中的低八位存入由基地址与偏移量相加得到的地址的内存中 

### 46. Sh

* 格式： SH rt, offset(base) 
* 描述： 将 rt 寄存器中的低十六位存入由基地址与偏移量相加得到的地址的内存中 

---

### 47. Break

* 格式：BREAK 
* 描述：引发一次断点异常

### 48. Syscall

* 格式：SYSCALL 
* 描述：引发一个系统异常调用  

### 49. Eret

* 格式：ERET 
* 描述：返回到中断指令之前执行的位置

### 50. Teq

* 格式：TEQ rs, rt 
* 描述：比较 rs 与 rt 寄存器中的值，如果相等则引发一个异常 

---

### 51. Div

* 格式：DIV rs, rt  
* 描述：将 rs 与 rt 寄存器中的数当作有符号数来进行除法运算。除法结果的商存入 LO 寄存器中，余数被存入 HI 寄存器中 

### 52. Divu

* 格式：DIV U rs, rt 
* 描述：将 rs 与 rt 寄存器中的数当作无符号数来进行除法运算。除法结果的商存入 LO 寄存器中，余数被存入 HI 寄存器中 

### 53. Mult

* 格式： MULT rs, rt 
* 描述： 将 rs 寄存器与 rt 寄存器中的内容作为有符号数相乘产生一个 64 位有符号数，高位放在 HI 寄存器中，低位放在 LO 寄存器中 

> 订正：
>
> ### 53. Mul
>
> * 格式：MUL rd, rs, rt 
> * 描述：乘

### 54. Multu

* 格式： MULTU rs, rt 
* 描述： 将 rs 寄存器与 rt 寄存器中的内容作为无符号数相乘产生一个 64 位无符号数，高位放在 HI 寄存器中，低位放在 LO 寄存器中 

